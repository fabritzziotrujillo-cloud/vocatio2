<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Perfil - OrientaVocacional</title>
  <link rel="stylesheet" href="../../styles/global.css">
  <link rel="stylesheet" href="../../styles/style.css">
  <link rel="stylesheet" href="perfil-seccion.css">
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>

  <!-- Mobile Header -->
  <header class="mobile-header">
    <div class="mobile-header-content">
      <div class="logo-icon-small">V</div>
      <span class="logo-text-small">Vocatio</span>
    </div>
  </header>

  <!-- Desktop Navbar -->
  <nav class="navbar">
    <div class="navbar-container">
      <div class="logo">
        <div class="logo-icon">V</div>
        <span class="logo-text">Vocatio</span>
      </div>

      <div class="nav-items">
        <a href="../inicio.html" class="nav-link">
          <i data-lucide="home"></i>
          <span>Inicio</span>
        </a>
        <a href="../TestVocacional/test-vocacional-seccion.html" class="nav-link">
          <i data-lucide="clipboard-check"></i>
          <span>Test Vocacional</span>
        </a>
        <a href="../ExplorarCarreras/explorar-carreras-seccion.html" class="nav-link">
          <i data-lucide="search"></i>
          <span>Explorar Carreras</span>
        </a>
        <a href="../Herramientas/herramientas-seccion.html" class="nav-link">
          <i data-lucide="clipboard-list"></i>
          <span>Herramientas</span>
        </a>
        <a href="../Perfil/perfil-seccion.html" class="nav-link active">
          <i data-lucide="user"></i>
          <span>Mi Perfil</span>
        </a>
      </div>

      <a href="#login" class="btn-primary-nav">Iniciar Sesi√≥n</a>
    </div>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
      <div class="breadcrumb-container">
        <a href="../inicio.html" class="breadcrumb-link">
          <i data-lucide="home"></i>
          <span>Inicio</span>
        </a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-current">Mi Perfil y Ayuda</span>
      </div>
    </div>
  </nav>

  <!-- Profile Header -->
  <section class="profile-hero">
    <div class="profile-hero-container">
      <a href="../inicio.html" class="back-link">
        <i data-lucide="arrow-left"></i>
        <span>Volver al Inicio</span>
      </a>

      <div class="profile-hero-header">
        <div class="profile-avatar">MG</div>
        <div class="profile-info">
          <h1 class="profile-title">Mi Perfil y Ayuda</h1>
          <p class="profile-name">Bienvenida, Mar√≠a Gonz√°lez</p>
        </div>
      </div>

      <div class="profile-stats">
        <div class="profile-stat">
          <div class="profile-stat-value">85%</div>
          <div class="profile-stat-label">Perfil completado</div>
        </div>
        <div class="profile-stat">
          <div class="profile-stat-value">3</div>
          <div class="profile-stat-label">Tests realizados</div>
        </div>
        <div class="profile-stat">
          <div class="profile-stat-value">12</div>
          <div class="profile-stat-label">Carreras exploradas</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Account Management -->
  <section class="account-management">
    <div class="container">
      <h2 class="section-title">Gesti√≥n de cuenta</h2>

      <div class="management-cards">
        <!-- Dashboard Personal -->
        <div class="management-card">
          <div class="management-bar blue"></div>
          <div class="management-content">
            <div class="management-icon blue">
              <i data-lucide="layout-dashboard"></i>
            </div>
            <h3 class="management-title">Dashboard Personal</h3>
            <p class="management-desc">Toda tu informaci√≥n personal est√° articulada con encriptaci√≥n</p>
            <a href="dashboard-personal.html" class="management-link">Acceder <i data-lucide="arrow-right"></i></a>
          </div>
        </div>

        <!-- Recursos Recomendados -->
        <div class="management-card">
          <div class="management-bar green"></div>
          <div class="management-content">
            <div class="management-header-row">
              <div class="management-icon green">
                <i data-lucide="book-open"></i>
              </div>
              <div class="management-badge">24 recursos</div>
            </div>
            <h3 class="management-title">Recursos Recomendados</h3>
            <p class="management-desc">Accede a materiales educativos personalizados seg√∫n tu perfil</p>
            <a href="recursos-recomendados.html" class="management-link">Acceder <i data-lucide="arrow-right"></i></a>
          </div>
        </div>

        <!-- Configuraci√≥n -->
        <div class="management-card">
          <div class="management-bar gray"></div>
          <div class="management-content">
            <div class="management-icon gray">
              <i data-lucide="settings"></i>
            </div>
            <h3 class="management-title">Configuraci√≥n de Perfil</h3>
            <p class="management-desc">Personaliza tu informaci√≥n personal, educativa y preferencias vocacionales</p>
            <a href="configuracion-perfil.html" class="management-link">Acceder <i data-lucide="arrow-right"></i></a>
          </div>
        </div>

        <!-- Generar Reporte (NUEVA) -->
        <div class="management-card">
          <div class="management-bar purple"></div>
          <div class="management-content">
            <div class="management-icon purple">
              <i data-lucide="file-text"></i>
            </div>
            <h3 class="management-title">Generar Reporte</h3>
            <p class="management-desc">Genera tu reporte vocacional con toda la informaci√≥n que necesitas</p>
            <a href="generar-reporte.html" class="management-link">Acceder <i data-lucide="arrow-right"></i></a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-col">
          <h4 class="footer-title">OrientaVocacional</h4>
          <p class="footer-text">Tu compa√±ero en el camino hacia la decisi√≥n de carrera correcta.</p>
          <div class="footer-contact">
            <p><i data-lucide="mail"></i> info@orientavocacional.com</p>
            <p><i data-lucide="phone"></i> +1 234 567 890</p>
            <p><i data-lucide="map-pin"></i> Lima, Per√∫</p>
          </div>
        </div>
        <div class="footer-col">
          <h4 class="footer-title">Acceso R√°pido</h4>
          <ul class="footer-links">
            <li><a href="#">Dashboard</a></li>
            <li><a href="#">Test Vocacional</a></li>
            <li><a href="#">Explorar Carreras</a></li>
            <li><a href="#">Mis Favoritos</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4 class="footer-title">Recursos</h4>
          <ul class="footer-links">
            <li><a href="#">Materiales Educativos</a></li>
            <li><a href="#">Chat con Estudiantes</a></li>
            <li><a href="#">Calculadoras</a></li>
            <li><a href="#">Universidades</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4 class="footer-title">Mi Cuenta</h4>
          <ul class="footer-links">
            <li><a href="#">Mi Perfil</a></li>
            <li><a href="#">Configuraci√≥n</a></li>
            <li><a href="#">Notificaciones</a></li>
            <li><a href="#">Reportes</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 OrientaVocacional. Todos los derechos reservados.</p>
        <div class="footer-social">
          <a href="#"><i data-lucide="facebook"></i></a>
          <a href="#"><i data-lucide="twitter"></i></a>
          <a href="#"><i data-lucide="instagram"></i></a>
          <a href="#"><i data-lucide="linkedin"></i></a>
        </div>
        <div class="footer-legal">
          <a href="#">T√©rminos y Condiciones</a>
          <a href="#">Pol√≠tica de Privacidad</a>
          <a href="#">Ayuda</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Mobile Bottom Navigation -->
  <nav class="bottom-nav">
    <a href="../inicio.html" class="bottom-nav-item">
      <i data-lucide="home"></i>
    </a>
    <a href="../TestVocacional/test-vocacional-seccion.html" class="bottom-nav-item">
      <i data-lucide="clipboard-check"></i>
    </a>
    <a href="../ExplorarCarreras/explorar-carreras-seccion.html" class="bottom-nav-item">
      <i data-lucide="search"></i>
    </a>
    <a href="../Herramientas/herramientas-seccion.html" class="bottom-nav-item">
      <i data-lucide="clipboard-list"></i>
    </a>
    <a href="../Perfil/perfil-seccion.html" class="bottom-nav-item active">
      <i data-lucide="user"></i>
    </a>
  </nav>

  <script>
    lucide.createIcons();
  </script>
<script>
/* ---------- Interacciones (no destructivas) para perfil-seccion.html ---------- */
(function(){
  // safe lucide init
  try { if (window.lucide && typeof lucide.createIcons === 'function') lucide.createIcons(); } catch(e){}

  /* Toast ligero ‚Äî estilos en l√≠nea para no tocar CSS existente */
  function toast(text, kind = 'info') {
    const el = document.createElement('div');
    el.className = 'rv-toast';
    el.textContent = text;
    el.style.position = 'fixed';
    el.style.right = '20px';
    el.style.top = '20px';
    el.style.zIndex = 99999;
    el.style.padding = '10px 14px';
    el.style.borderRadius = '8px';
    el.style.boxShadow = '0 8px 24px rgba(0,0,0,0.12)';
    el.style.fontWeight = '600';
    el.style.fontFamily = 'inherit';
    el.style.opacity = '0';
    el.style.transform = 'translateY(-8px)';
    el.style.transition = 'opacity .25s ease, transform .25s ease';

    if (kind === 'success') el.style.background = '#2e7d32', el.style.color = 'white';
    else if (kind === 'warn') el.style.background = '#ff9800', el.style.color = 'white';
    else if (kind === 'error') el.style.background = '#d32f2f', el.style.color = 'white';
    else el.style.background = '#111', el.style.color = 'white';

    document.body.appendChild(el);
    requestAnimationFrame(()=> { el.style.opacity = '1'; el.style.transform = 'translateY(0)'; });
    setTimeout(()=> { el.style.opacity = '0'; el.style.transform = 'translateY(-8px)'; setTimeout(()=> el.remove(), 250); }, 2200);
  }

  /* Animar estad√≠sticas (n√∫meros) cuando la secci√≥n aparece en pantalla */
  function animateNumber(el, target, duration = 1000) {
    if (!el) return;
    const start = 0;
    const startTime = performance.now();
    function tick(now) {
      const elapsed = now - startTime;
      const progress = Math.min(elapsed / duration, 1);
      const value = Math.round(start + (target - start) * progress);
      el.textContent = value + (el.dataset.suffix || '');
      if (progress < 1) requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);
  }

  // preparar elementos de stats
  document.addEventListener('DOMContentLoaded', () => {
    // Encuentra los contadores dentro de .profile-stats
    const stats = document.querySelectorAll('.profile-stat .profile-stat-value');
    stats.forEach(node => {
      // intenta extraer n√∫mero actual (si existe)
      const raw = node.textContent.trim();
      const m = raw.match(/(\d+)/);
      const target = m ? parseInt(m[1], 10) : 0;
      // vaciar para animar desde 0
      node.textContent = '0';
      // animar cuando el nodo est√© visible (IntersectionObserver)
      const io = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            animateNumber(node, target, 900);
            obs.disconnect();
          }
        });
      }, { threshold: 0.4 });
      io.observe(node);
    });
  });

  /* Click en avatar: peque√±o efecto visual y toast (no cambia HTML) */
  const avatar = document.querySelector('.profile-avatar');
  if (avatar) {
    avatar.style.cursor = 'pointer';
    avatar.addEventListener('click', () => {
      avatar.animate([
        { transform: 'scale(1)' },
        { transform: 'scale(1.08)' },
        { transform: 'scale(1)' }
      ], { duration: 240, easing: 'ease-out' });
      toast('Editar avatar (funci√≥n en perfil) ‚úèÔ∏è', 'info');
    });
    // keyboard accessible
    if (!avatar.hasAttribute('tabindex')) avatar.setAttribute('tabindex','0');
    avatar.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); avatar.click(); }});
  }

  /* Hacer que todo el .management-card sea "clickeable" y emule el click en su enlace interno
     (no mueve ni elimina nada: si el enlace tiene href v√°lido, navega; si no, muestra toast) */
  document.querySelectorAll('.management-card').forEach(card => {
    card.style.cursor = 'pointer';

    card.addEventListener('click', (e) => {
      // evita reaccionar si se hizo click en un enlace real (dejar comportamiento nativo)
      const anchor = card.querySelector('.management-link');
      if (anchor) {
        const href = anchor.getAttribute('href') || '';
        if (!href || href === '#') {
          e.preventDefault();
          toast('Acci√≥n pendiente: enlace no configurado üîß', 'warn');
        } else {
          // peque√±a animaci√≥n antes de navegar (no cancela navegaci√≥n)
          card.animate([
            { transform: 'translateY(0)' },
            { transform: 'translateY(-6px)' },
            { transform: 'translateY(0)' }
          ], { duration: 200, easing: 'ease' });
          // permitir que el enlace navegue naturalmente
          // si deseas forzar la navegaci√≥n aqu√≠: window.location.href = href;
        }
      } else {
        toast('Elemento interactivo (sin enlace) ‚ú®', 'info');
      }
    });

    // accesibilidad: Enter/Space en la tarjeta tambi√©n activa
    if (!card.hasAttribute('tabindex')) card.setAttribute('tabindex','0');
    card.addEventListener('keydown', (ev) => {
      if (ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); card.click(); }
    });
  });

  /* "Generar Reporte" quick feedback: si hay link con generar, mostrar toast al click si href="#" */
  document.querySelectorAll('a.management-link, a[href*="generar-reporte"]').forEach(a => {
    a.addEventListener('click', (e) => {
      const href = a.getAttribute('href') || '';
      if (!href || href === '#') {
        e.preventDefault();
        toast('Generar reporte no configurado a√∫n üîí', 'warn');
      } else {
        // mostrar aviso corto y permitir navegaci√≥n
        toast('Abriendo secci√≥n‚Ä¶', 'success');
      }
    });
  });

  /* Peque√±a mejora de UX: mostrar confirmaci√≥n si el usuario intenta salir de la p√°gina con cambios
     (desactivado por defecto; si quieres activarlo, activa la variable below) */
  const enableUnloadWarning = false;
  if (enableUnloadWarning) {
    let formDirty = false;
    // ejemplo: si hay formularios en la p√°gina, marca dirty cuando cambian (no los guardamos ni los manejamos)
    document.querySelectorAll('form').forEach(f => f.addEventListener('change', () => formDirty = true));
    window.addEventListener('beforeunload', (e) => {
      if (formDirty) {
        e.preventDefault();
        e.returnValue = '';
      }
    });
  }

  // defensivo: no borra ni oculta nodos, s√≥lo a√±ade interacciones
})();
</script>

</body>
</html>